# userBalanceService

**Quick start**

1. Clone the repo
2. Run `docker compose up`
3. Import `balance-service.postman_collection.json` to Postman app
4. Enjoy
---

–≠—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî MVP, —Å–æ–∑–¥–∞–Ω–Ω–∞—è —Å –Ω–∞–º—ë–∫–æ–º –Ω–∞ —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. 
–° golang –∑–Ω–∞–∫–æ–º–∏–ª–∞—Å—å –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, —ç—Ç–æ –±—ã–ª–æ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ, —Å–ø–∞—Å–∏–±–æ :)

–ü–æ–Ω–∏–º–∞—é, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –º–Ω–æ–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –≤ –≥–æ, –Ω–µ —É—Å–ø–µ–ª–∞.

**–ö—Ä–∞—Ç–∫–∏–µ –ø–æ—è—Å–Ω–µ–Ω–∏—è –∫ –æ—Å–Ω–æ–≤–Ω—ã–º –º–µ—Ç–æ–¥–∞–º**
 1. –ú–µ—Ç–æ–¥ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å ‚Äî `enroll` –≤ postman
    - —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ú–µ—Ç–æ–¥ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ ‚Äî `start transaction`
   - —Å–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏ —Å –±–∞–ª–∞–Ω—Å–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
   - —Å—Ç–∞—Ä—Ç—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
3. –ú–µ—Ç–æ–¥ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è –≤—ã—Ä—É—á–∫–∏ ‚Äî `approve transactoin`
   - –Ω–∞—á–∏—Å–ª—è–µ—Ç –¥–µ–Ω—å–≥–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—é
   - –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
4. –ú–µ—Ç–æ–¥ –æ—Ç–º–µ–Ω—ã —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî `abort transaction`
   - –æ—Ç–º–µ–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é
   - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ–Ω—å–≥–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—é
5. –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî `get balance`
   - –∞ —Ç—É—Ç –∏ —Ç–∞–∫ –≤—Å–µ –ø–æ–Ω—è—Ç–Ω–æ

---
UPD 27.10.22

–°–¥–µ–ª–∞–ª–∞ –Ω–µ–±–æ–ª—å—à–∏–µ, –Ω–æ –≤–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ —Ä–∞–º–æ–∫ –¥–µ–¥–ª–∞–π–Ω–∞. 

[–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–º–º–∏—Ç –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞](https://github.com/ktrntrsv/userBalanceService/tree/ca55d8ecdd05aee35cbeeab618d646d6b8373dba)

1. –û–±–Ω–∞—Ä—É–∂–∏–ª–∞, —á—Ç–æ –∑–∞–±—ã–ª–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö üò± –ò—Å–ø—Ä–∞–≤–∏–ª–∞
   1. –¢–∞–±–ª–∏—Ü–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—É—Å—Ç–∞—è
   2. –¢–∞–±–ª–∏—Ü–∞ —Å–æ —Å—á–µ—Ç–∞–º–∏ (accounts) –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç—Ä–µ–º—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Ö ids:
      1. `123e4567-e89b-12d3-a456-426614174000` 
      2. `123e4567-e89b-12d3-a456-426614174001`
      3. `123e4567-e89b-12d3-a456-426614174002`
2. –û–±–Ω–∞—Ä—É–∂–∏–ª–∞, —á—Ç–æ –µ—Å—Ç—å –±–∞–≥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –ø–æ—Ñ–∏–∫—Å–∏–ª–∞
3. –î–æ–±–∞–≤–∏–ª–∞-—Ç–∞–∫–∏ —Ç—Ä–∞–Ω–∑–∞—Ü–∏–∏ 
